(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e551cac"],{"0fd9":function(e,t,r){"use strict";r("4b85");var i=r("2b0e"),s=r("d9f7"),a=r("80d2");const n=["sm","md","lg","xl"],o=["start","end","center"];function l(e,t){return n.reduce((r,i)=>(r[e+Object(a["E"])(i)]=t(),r),{})}const u=e=>[...o,"baseline","stretch"].includes(e),d=l("align",()=>({type:String,default:null,validator:u})),c=e=>[...o,"space-between","space-around"].includes(e),h=l("justify",()=>({type:String,default:null,validator:c})),f=e=>[...o,"space-between","space-around","stretch"].includes(e),p=l("alignContent",()=>({type:String,default:null,validator:f})),m={align:Object.keys(d),justify:Object.keys(h),alignContent:Object.keys(p)},v={align:"align",justify:"justify",alignContent:"align-content"};function g(e,t,r){let i=v[e];if(null!=r){if(t){const r=t.replace(e,"");i+="-"+r}return i+="-"+r,i.toLowerCase()}}const b=new Map;t["a"]=i["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...d,justify:{type:String,default:null,validator:c},...h,alignContent:{type:String,default:null,validator:f},...p},render(e,{props:t,data:r,children:i}){let a="";for(const s in t)a+=String(t[s]);let n=b.get(a);if(!n){let e;for(e in n=[],m)m[e].forEach(r=>{const i=t[r],s=g(e,r,i);s&&n.push(s)});n.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),b.set(a,n)}return e(t.tag,Object(s["a"])(r,{staticClass:"row",class:n}),i)}})},"20c1":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return l}));var i=r("b775");function s(){return Object(i["a"])({url:"/users"})}function a(e){return Object(i["a"])({url:"/users/"+e})}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Username:"",Password:"",Role:0};return Object(i["a"])({url:"/users",method:"post",data:e})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{Username:"",Password:"",Role:0};return Object(i["a"])({url:"/users/"+e,method:"put",data:t})}function l(e){return Object(i["a"])({url:"/users/"+e,method:"delete"})}},"4bd4":function(e,t,r){"use strict";var i=r("58df"),s=r("7e2b"),a=r("3206");t["a"]=Object(i["a"])(s["a"],Object(a["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",t=>{this.$set(this.errorBag,e._uid,t)},{immediate:!0}),r={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",i=>{i&&(this.errorBag.hasOwnProperty(e._uid)||(r.valid=t(e)))}):r.valid=t(e),r},validate(){return 0===this.inputs.filter(e=>!e.validate(!0)).length},reset(){this.inputs.forEach(e=>e.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(e=>e.resetValidation()),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find(t=>t._uid===e._uid);if(!t)return;const r=this.watchers.find(e=>e._uid===t._uid);r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter(e=>e._uid!==t._uid),this.inputs=this.inputs.filter(e=>e._uid!==t._uid),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},5311:function(e,t,r){"use strict";var i=r("5607"),s=r("2b0e");t["a"]=s["default"].extend({name:"rippleable",directives:{ripple:i["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var i=r("1d80"),s=r("5899"),a="["+s+"]",n=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),l=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(n,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"62ad":function(e,t,r){"use strict";r("4b85");var i=r("2b0e"),s=r("d9f7"),a=r("80d2");const n=["sm","md","lg","xl"],o=(()=>n.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),l=(()=>n.reduce((e,t)=>(e["offset"+Object(a["E"])(t)]={type:[String,Number],default:null},e),{}))(),u=(()=>n.reduce((e,t)=>(e["order"+Object(a["E"])(t)]={type:[String,Number],default:null},e),{}))(),d={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(u)};function c(e,t,r){let i=e;if(null!=r&&!1!==r){if(t){const r=t.replace(e,"");i+="-"+r}return"col"!==e||""!==r&&!0!==r?(i+="-"+r,i.toLowerCase()):i.toLowerCase()}}const h=new Map;t["a"]=i["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...u,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:r,children:i,parent:a}){let n="";for(const s in t)n+=String(t[s]);let o=h.get(n);if(!o){let e;for(e in o=[],d)d[e].forEach(r=>{const i=t[r],s=c(e,r,i);s&&o.push(s)});const r=o.some(e=>e.startsWith("col-"));o.push({col:!r||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),h.set(n,o)}return e(t.tag,Object(s["a"])(r,{class:o}),i)}})},7156:function(e,t,r){var i=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var a,n;return s&&"function"==typeof(a=t.constructor)&&a!==r&&i(n=a.prototype)&&n!==r.prototype&&s(e,n),e}},8547:function(e,t,r){"use strict";var i=r("2b0e"),s=r("80d2");t["a"]=i["default"].extend({name:"comparable",props:{valueComparator:{type:Function,default:s["i"]}}})},"8ce9":function(e,t,r){},"97c0":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-user__item"},[r("v-container",{staticClass:"main-container"},[r("v-row",[r("v-col",[r("user-form",{attrs:{"user-id":e.id}})],1)],1)],1)],1)},s=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{loading:e.loading,tile:""}},[r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-divider"),r("v-card-text",[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:12}},[r("v-text-field",{attrs:{outlined:"",label:e.__("user.username"),placeholder:e.form.username.placeholder,required:"","append-icon":"mdi-account-check",rules:e.form.username.rules},model:{value:e.formModel.username,callback:function(t){e.$set(e.formModel,"username",t)},expression:"formModel.username"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:6}},[r("v-text-field",{attrs:{outlined:"",label:e.__("user.password"),type:"password",placeholder:e.form.password.placeholder,autocomplete:"false",readonly:"",onfocus:"this.removeAttribute('readonly');",required:"","append-icon":"mdi-lock"},model:{value:e.formModel.password,callback:function(t){e.$set(e.formModel,"password",t)},expression:"formModel.password"}})],1),r("v-col",{attrs:{cols:6}},[r("v-text-field",{attrs:{outlined:"",label:e.__("user.repeatPassword"),type:"password",autocomplete:"false",readonly:"",onfocus:"this.removeAttribute('readonly');",placeholder:e.form.password.placeholder,value:"","append-icon":"mdi-lock"},model:{value:e.formModel.repeatPassword,callback:function(t){e.$set(e.formModel,"repeatPassword",t)},expression:"formModel.repeatPassword"}})],1)],1),r("v-row",[r("v-col",{staticStyle:{"padding-top":"0","margin-top":"0"},attrs:{cols:12}},[r("v-switch",{attrs:{ripple:!1,label:e.__("user.administrator")},model:{value:e.formModel.admin,callback:function(t){e.$set(e.formModel,"admin",t)},expression:"formModel.admin"}})],1)],1)],1)],1),r("v-divider",{staticClass:"mt-5"}),r("v-card-actions",[r("v-btn",{attrs:{loading:e.loading,tile:"",color:"primary"},on:{click:e.handleSubmitForm}},[e._v(" "+e._s(this.userId?this.__("update"):this.__("create"))+" ")])],1)],1)},n=[],o=(r("a9e3"),r("20c1")),l={props:{userId:[Number,String]},data:function(){return{genders:["male","female","other"],valid:!0,loading:!1,formModel:{username:"",password:"",repeatPassword:"",admin:!1},form:{username:{label:"Username",placeholder:"",rules:[function(e){return!!e||"This field is required"}]},password:{placeholder:"xxx",rules:[function(e){return!!e||"This field is required"}]},email:{label:"Email",placeholder:"wangqiangshen@gmail.com",rules:[function(e){return!!e||"This field is required"}]},phone:{label:"phone",placeholder:"18682157492",rules:[function(e){return!!e||"This field is required"}]},firstname:{label:"Firstname",placeholder:"Firstname",rules:[function(e){return!!e||"This field is required"}]},lastname:{label:"Lastname",placeholder:"Lastname",rules:[function(e){return!!e||"This field is required"}]},gender:{label:"Gender",placeholder:"gender",rules:[function(e){return!!e||"This field is required"}]}},formHasErrors:!1}},computed:{formTitle:function(){return this.userId?this.__("usersEdit"):this.__("usersCreate")}},watch:{userId:{handler:function(e){e&&this.getItemById(e)},immediate:!0}},methods:{getItemById:function(e){var t=this;this.loading=!0,Object(o["c"])(e).then((function(e){t.formModel={username:e.username,admin:1===e.role},t.loading=!1}))},handleSubmitForm:function(){if(this.$refs.form.validate())if(this.userId){if(this.formModel.password&&this.formModel.password!==this.formModel.repeatPassword)return window._VMA.$emit("SHOW_SNACKBAR",{text:"Passwords don't compare",color:"error"});this.loading=!0,this.updateUser(this.userId)}else{if(this.formModel.password!==this.formModel.repeatPassword)return window._VMA.$emit("SHOW_SNACKBAR",{text:"Passwords don't compare",color:"error"});this.loading=!0,this.createUser()}},updateUser:function(){var e=this,t=this.formModel.admin?1:0;Object(o["e"])(this.userId,{Username:this.formModel.username,Password:this.formModel.password,Role:t}).then((function(){e.loading=!1,window._VMA.$emit("SHOW_SNACKBAR",{text:e.__("user.updated"),color:"success"}),e.$router.push("/users")})).catch((function(t){window._VMA.$emit("SHOW_SNACKBAR",{text:t.response.data.message,color:"error"}),setTimeout((function(){return e.loading=!1}),500)}))},createUser:function(){var e=this,t=this.formModel.admin?1:0;Object(o["a"])({Username:this.formModel.username,Password:this.formModel.password,Role:t}).then((function(){e.loading=!1,window._VMA.$emit("SHOW_SNACKBAR",{text:e.__("user.created"),color:"success"}),e.$router.push("/users")})).catch((function(t){window._VMA.$emit("SHOW_SNACKBAR",{text:t.response.data.message,color:"error"}),setTimeout((function(){return e.loading=!1}),500)}))}}},u=l,d=r("2877"),c=r("6544"),h=r.n(c),f=r("8336"),p=r("b0af"),m=r("99d9"),v=r("62ad"),g=r("ce7e"),b=r("4bd4"),w=r("0fd9"),y=r("b73d"),_=r("8654"),S=Object(d["a"])(u,a,n,!1,null,null,null),C=S.exports;h()(S,{VBtn:f["a"],VCard:p["a"],VCardActions:m["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:v["a"],VDivider:g["a"],VForm:b["a"],VRow:w["a"],VSwitch:y["a"],VTextField:_["a"]});var V={components:{UserForm:C},props:{id:[String]}},A=V,x=r("a523"),M=Object(d["a"])(A,i,s,!1,null,null,null);t["default"]=M.exports;h()(M,{VCol:v["a"],VContainer:x["a"],VRow:w["a"]})},"9d01":function(e,t,r){},a9e3:function(e,t,r){"use strict";var i=r("83ab"),s=r("da84"),a=r("94ca"),n=r("6eeb"),o=r("5135"),l=r("c6b6"),u=r("7156"),d=r("c04e"),c=r("d039"),h=r("7c73"),f=r("241c").f,p=r("06cf").f,m=r("9bf2").f,v=r("58a8").trim,g="Number",b=s[g],w=b.prototype,y=l(h(w))==g,_=function(e){var t,r,i,s,a,n,o,l,u=d(e,!1);if("string"==typeof u&&u.length>2)if(u=v(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+u}for(a=u.slice(2),n=a.length,o=0;o<n;o++)if(l=a.charCodeAt(o),l<48||l>s)return NaN;return parseInt(a,i)}return+u};if(a(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,C=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof C&&(y?c((function(){w.valueOf.call(r)})):l(r)!=g)?u(new b(_(t)),r,C):_(t)},V=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;V.length>A;A++)o(b,S=V[A])&&!o(C,S)&&m(C,S,p(b,S));C.prototype=w,w.constructor=C,n(s,g,C)}},b73d:function(e,t,r){"use strict";r("ec29"),r("9d01");var i=r("fe09"),s=r("c37a"),a=r("c3f0"),n=r("0789"),o=r("490a"),l=r("80d2");t["a"]=i["a"].extend({name:"v-switch",directives:{Touch:a["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...this.attrs$}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(n["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(o["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===l["x"].left&&this.isActive||e.keyCode===l["x"].right&&!this.isActive)&&this.onChange()}}})},ce7e:function(e,t,r){"use strict";r("8ce9");var i=r("7560");t["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})},ec29:function(e,t,r){},fe09:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var i=r("c37a"),s=r("5311"),a=r("8547"),n=r("58df");function o(e){e.preventDefault()}t["a"]=Object(n["a"])(i["a"],s["a"],a["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=i["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:o},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:o},ref:"input"})},onBlur(){this.isFocused=!1},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const r=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===r&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(){this.isFocused=!0},onKeydown(e){}}})}}]);
//# sourceMappingURL=chunk-2e551cac.c174048d.js.map